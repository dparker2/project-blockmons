(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[179],{8485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(7537),r=n.n(a),i=n(3645),o=n.n(i)()(r());o.push([e.id,'#WEB3_CONNECT_MODAL_ID .web3modal-modal-lightbox{z-index:99999}#top-ui{position:absolute;right:0;top:0;z-index:2000;width:100%}#bottom-ui{position:absolute;left:0;bottom:0;z-index:1000;width:100%}#bottom-ui #combat-action-menu{margin-left:auto}#top-ui div,#top-ui button,#bottom-ui div,#bottom-ui button{color:#c8c8c8;font-size:28px;font-family:sans-serif}#top-ui button,#bottom-ui button{background:none;border:none;cursor:pointer}#top-ui button:hover::before,#top-ui button:active::before,#top-ui button:focus::before,#bottom-ui button:hover::before,#bottom-ui button:active::before,#bottom-ui button:focus::before{content:"« "}#top-ui button:hover::after,#top-ui button:active::after,#top-ui button:focus::after,#bottom-ui button:hover::after,#bottom-ui button:active::after,#bottom-ui button:focus::after{content:" »"}#top-ui .textbox,#bottom-ui .textbox{background-color:rgba(40,55,82,.6);border:5px solid #325069;box-shadow:4px 4px 20px #000;padding:40px;margin:20px;border-radius:10px;max-width:500px}#top-ui .fullpage-overlay,#bottom-ui .fullpage-overlay{height:100vh;width:100vw;position:absolute;background-color:#283752}#top-ui .fullpage-overlay>div,#bottom-ui .fullpage-overlay>div{padding:0 50px;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}',"",{version:3,sources:["webpack://./src/ui/ui.scss"],names:[],mappings:"AAAA,iDACE,aACE,CAAA,QAIJ,iBACE,CAAA,OACA,CAAA,KACA,CAAA,YACA,CAAA,UACA,CAAA,WAGF,iBACE,CAAA,MACA,CAAA,QACA,CAAA,YACA,CAAA,UACA,CAAA,+BAEA,gBACE,CAAA,4DAMF,aAEE,CAAA,cACA,CAAA,sBACA,CAAA,iCAGF,eACE,CAAA,WACA,CAAA,cACA,CAAA,yLAKE,YACE,CAAA,mLAGF,YACE,CAAA,qCAKN,kCACE,CAAA,wBACA,CAAA,4BACA,CAAA,YACA,CAAA,WACA,CAAA,kBACA,CAAA,eACA,CAAA,uDAGF,YACE,CAAA,WACA,CAAA,iBACA,CAAA,wBACA,CAAA,+DAEA,cACE,CAAA,WACA,CAAA,YACA,CAAA,qBACA,CAAA,kBACA,CAAA,sBACA",sourcesContent:['#WEB3_CONNECT_MODAL_ID {\n  .web3modal-modal-lightbox {\n    z-index: 99999;\n  }\n}\n\n#top-ui {\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 2000;\n  width: 100%;\n}\n\n#bottom-ui {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  z-index: 1000;\n  width: 100%;\n\n  #combat-action-menu {\n    margin-left: auto;\n  }\n}\n\n#top-ui,\n#bottom-ui {\n  div,\n  button {\n    color: rgb(200, 200, 200);\n    font-size: 28px;\n    font-family: sans-serif;\n  }\n\n  button {\n    background: none;\n    border: none;\n    cursor: pointer;\n\n    &:hover,\n    &:active,\n    &:focus {\n      &::before {\n        content: "« ";\n      }\n\n      &::after {\n        content: " »";\n      }\n    }\n  }\n\n  .textbox {\n    background-color: rgba(40, 55, 82, 0.6);\n    border: 5px solid rgb(50, 80, 105);\n    box-shadow: 4px 4px 20px #000;\n    padding: 40px;\n    margin: 20px;\n    border-radius: 10px;\n    max-width: 500px;\n  }\n\n  .fullpage-overlay {\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n    background-color: rgb(40, 55, 82);\n\n    > div {\n      padding: 0 50px;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n}\n'],sourceRoot:""}]);const u=o},6863:(e,t,n)=>{"use strict";var a=n(5569),r=n.n(a),i=(n(2238),n(2596),n(8361),n(9940),n(1973),n(7294)),o=n(3935);function u(e,t){return Math.random()*(t-e)+e}function s(){return Math.random().toString(36).slice(5,10)}function l(){var e=r().scenes[0],t=setInterval((function(){e.hasLoaded&&(e.pause(),clearInterval(t))}),10)}function p(){r().scenes[0].play()}function c(){return e=this,t=void 0,a=function(){var e;return function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(e){return setTimeout(e,600)}))];case 1:return t.sent(),(e=u(1,100))<=60?[2,{species:"Uno",dexId:1,hp:100}]:e<=90?[2,{species:"Dos",dexId:2,hp:150}]:[2,{species:"Tres",dexId:3,hp:180}]}}))},new((n=void 0)||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function u(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((a=a.apply(e,t||[])).next())}));var e,t,n,a}var d=n(387);const y=JSON.parse('{"I":"0x0327AFf3c56d91b61F2dAB1064B65c9b8D27E221","e":"0x6184e23C8a298A36441d6CDdc5074bC918E48cce"}'),f=JSON.parse('{"Mt":[{"inputs":[{"internalType":"uint256","name":"initialSupply","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unsecureMintForTesting","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');var m=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function u(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((a=a.apply(e,t||[])).next())}))},b=function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function v(e){return m(this,void 0,void 0,(function(){var t,n,a,r;return b(this,(function(i){switch(i.label){case 0:return t=e.getSigner(),n=new d.CH(y.I,f.Mt,t),r=(a=n).balanceOf,[4,t.getAddress()];case 1:return[4,r.apply(a,[i.sent()])];case 2:return[2,i.sent()]}}))}))}const A=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"species","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tamed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_species","type":"string"}],"name":"unsecureMintForTesting","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"unsecureTameForTesting","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');var h=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function u(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((a=a.apply(e,t||[])).next())}))},w=function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function x(e){return h(this,void 0,void 0,(function(){var t,n,a,r,i,o,u,s,l,p;return w(this,(function(c){switch(c.label){case 0:return t=[],[4,(n=e.getSigner()).getAddress()];case 1:return a=c.sent(),[4,(r=new d.CH(y.e,A.Mt,n)).balanceOf(a)];case 2:i=c.sent(),o=0,c.label=3;case 3:return o<i?[4,r.tokenOfOwnerByIndex(a,o)]:[3,9];case 4:return u=c.sent(),[4,r.tokenURI(u)];case 5:return s=c.sent(),p=(l=t).push,[4,fetch(s)];case 6:return[4,c.sent().json()];case 7:p.apply(l,[c.sent()]),c.label=8;case 8:return o++,[3,3];case 9:return[2,t]}}))}))}var g={maxSpawnable:3,spawned:[{id:s()},{id:s()},{id:s()}],inCombat:"",enemy:null,enemyImage:""};AFRAME.registerState({initialState:g,handlers:{despawn:function(e,t){console.log("state: despawn");var n=e.spawned.findIndex((function(e){return e.id===t.id}));n>-1&&(e.spawned.splice(n,1),e.spawned.__dirty=!0)},spawn:function(e){console.log("state: spawn"),e.spawned.length<e.maxSpawnable&&(e.spawned.push({id:s()}),e.spawned.__dirty=!0)},enterCombat:function(e,t){console.log("state: enterCombat",t),e.inCombat=t.id,function(){var e,t,n,a;e=this,t=void 0,a=function(){var e;return function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,c()];case 1:return e=t.sent(),r().scenes[0].emit("setEnemy",e),[2]}}))},new((n=void 0)||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function u(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((a=a.apply(e,t||[])).next())}))}()},exitCombat:function(e){console.log("state: exitCombat"),e.inCombat=""},setEnemy:function(e,t){console.log("state: setEnemy",t),e.enemy=t}},computeState:function(e,t){e.enemy&&void 0!==e.enemy.dexId&&(e.enemyImage="assets/".concat(e.enemy.dexId,".png"))}});var C=function(){return C=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},C.apply(this,arguments)},T=(0,i.createContext)(g);function E(e){var t=e.children,n=(0,i.useState)(g),a=n[0],o=n[1],u=(0,i.useMemo)((function(){return r().scenes[0]}),[r()]);return(0,i.useEffect)((function(){var e=function(e){o(C({},e.detail.state))};return u.addEventListener("stateupdate",e),function(){return u.removeEventListener("stateupdate",e)}}),[u]),console.log("[StateContext]: currentState:",a),i.createElement(T.Provider,{value:a},t)}function k(){return(0,i.useContext)(T)}var M=n(2249),S=n(2484),I=n.n(S),O={walletconnect:{package:n(2485).Z,options:{rpc:{4:"https://rinkeby-light.eth.linkpool.io/",31337:"http://localhost:8545",80001:"https://rpc-mumbai.matic.today"}}}};function F(){return e=this,t=void 0,a=function(){var e;return function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,new(I())({providerOptions:O}).connect()];case 1:return e=t.sent(),[2,new M.Q(e)]}}))},new((n=void 0)||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function u(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((a=a.apply(e,t||[])).next())}));var e,t,n,a}var B=(0,i.createContext)({wallet:{address:"",provider:null,network:null},connectWallet:function(){}});function _(e){var t=this,n=e.children,a=(0,i.useState)({address:"",provider:null,network:null}),r=a[0],o=a[1],u=(0,i.useCallback)((function(){return e=t,n=void 0,r=function(){var e,t,n;return function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return[4,F()];case 1:return(e=a.sent())?[4,e.getSigner().getAddress()]:[3,4];case 2:return t=a.sent(),[4,e.getNetwork()];case 3:n=a.sent(),o({address:t,provider:e,network:n}),a.label=4;case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(t,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,u)}s((r=r.apply(e,n||[])).next())}));var e,n,a,r}),[]);console.log("[WalletContextProvider]: walletContext:",r);var s=(0,i.useMemo)((function(){return{wallet:r,connectWallet:u}}),[r,u]);return i.createElement(B.Provider,{value:s},n)}function z(){return(0,i.useContext)(B)}function N(){var e=k(),t=z().wallet;return i.createElement("ul",null,i.createElement("li",{className:"menu-item"},i.createElement("button",{onClick:function(){console.log("Kill!"),u(0,10)<5?function(e){m(this,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:return t=e.getSigner(),[4,new d.CH(y.I,f.Mt,t).unsecureMintForTesting()];case 1:return[4,n.sent().wait()];case 2:return n.sent(),[2]}}))}))}(t.provider):function(e,t){h(this,void 0,void 0,(function(){var n;return w(this,(function(a){switch(a.label){case 0:return n=e.getSigner(),[4,new d.CH(y.e,A.Mt,n).unsecureMintForTesting(t)];case 1:return[4,a.sent().wait()];case 2:return a.sent(),[2]}}))}))}(t.provider,e.enemy.species)}},"Fight (Kill instantly)")),i.createElement("li",{className:"menu-item"},i.createElement("button",{onClick:function(){return console.log("Tame!")}},"Tame ",e.enemy.species)))}function W(){var e,t=k(),n="";return t.inCombat?(null===(e=t.enemy)||void 0===e?void 0:e.species)&&(n=i.createElement("div",null,"That's a ",t.enemy.species,"! What do you want to do?"," ",i.createElement(N,null))):n="There they are! Focus on one to fight it!",n?i.createElement("div",{className:"textbox"},n):null}function D(){var e=z(),t=e.wallet,n=e.connectWallet,a=t||{},r=a.provider;return a.network,a.address,r?(p(),null):(l(),i.createElement("div",{className:"fullpage-overlay"},i.createElement("div",null,i.createElement("div",null,"Connecting a wallet allows you to decrypt their temporal data through your camera!"),i.createElement("br",null),i.createElement("button",{onClick:n},"Connect Wallet"))))}function P(){var e=this,t=z().wallet,n=(0,i.useState)(null),a=n[0],r=n[1],o=(0,i.useState)(null),u=o[0],s=o[1],c=(0,i.useState)(!1),d=c[0],y=c[1];return(0,i.useEffect)((function(){var n,a,i,o;d&&(n=e,a=void 0,o=function(){var e,n;return function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return e=r,[4,v(t.provider)];case 1:return e.apply(void 0,[a.sent()]),n=s,[4,x(t.provider)];case 2:return n.apply(void 0,[a.sent()]),[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{s(o.next(e))}catch(e){t(e)}}function u(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,u)}s((o=o.apply(n,a||[])).next())})))}),[d]),console.log(a,u),d?(l(),i.createElement("div",{className:"fullpage-overlay"},i.createElement("div",null,i.createElement("button",{onClick:function(){return y(!1)}},"Close"),i.createElement("br",null),i.createElement("div",null,"Spirits: ",null==a?void 0:a.toString()),i.createElement("div",null,"Monsters:"," ",i.createElement("ul",null,null==u?void 0:u.map((function(e,t){var n=e.attributes;return i.createElement("li",{key:t},n.tamed||"Empty ",n.species)}))))))):(p(),i.createElement("button",{onClick:function(){return y(!0)}},"Open Inventory"))}function G(){return i.createElement(_,null,i.createElement(E,null,i.createElement("div",{id:"top-ui"},i.createElement(D,null),i.createElement(P,null)),i.createElement("div",{id:"bottom-ui"},i.createElement(W,null))))}var L=n(3379),j=n.n(L),Y=n(7795),Z=n.n(Y),H=n(569),K=n.n(H),U=n(3565),J=n.n(U),R=n(9216),Q=n.n(R),q=n(4589),V=n.n(q),X=n(8485),$={};function ee(e,t,n,a){var r=e.object3D.position,i=function(e){var t=e.current,n=e.min,a=e.max,r=u(n.x,a.x),i=u(n.y,a.y),o=u(n.z,a.z);return{x:t.x+r,y:t.y+i,z:t.z+o}}({current:e.object3D.position,min:t,max:n}),o={property:"position",from:r,to:i,dur:1e3,enabled:a};e.setAttribute("animation",o)}$.styleTagTransform=V(),$.setAttributes=J(),$.insert=K().bind(null,"head"),$.domAPI=Z(),$.insertStyleElement=Q(),j()(X.Z,$),X.Z&&X.Z.locals&&X.Z.locals,window.addEventListener("load",(function(){o.render(i.createElement(G,null),document.getElementById("ui-root"))})),r().registerComponent("combat-trigger",{schema:{},init:function(){var e=this;this.el.addEventListener("click",(function(t){e.el.sceneEl.emit("enterCombat",{id:t.target.id}),console.log(e.el.attributes.animation)}))}}),r().registerComponent("move-randomly",{schema:{min:{type:"vec3",default:{x:-1,y:-1,z:-1}},max:{type:"vec3",default:{x:1,y:1,z:1}},enabled:{type:"boolean",default:!0}},init:function(){var e=this;ee(this.el,this.data.min,this.data.max,this.data.enabled),this.el.addEventListener("animationcomplete",(function(t){ee(t.target,e.data.min,e.data.max,e.data.enabled)}))}}),console.log("Hello World!")},6563:()=>{},6601:()=>{},9214:()=>{},2361:()=>{},9630:()=>{},6567:()=>{}},e=>{e.O(0,[216],(()=>(6863,e(e.s=6863)))),e.O()}]);
//# sourceMappingURL=main.b447a6d5645532753dcd.js.map