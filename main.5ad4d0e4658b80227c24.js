(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[179],{8485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,"#top-ui{position:absolute;right:0;top:0;z-index:1000;width:100%}#bottom-ui{position:absolute;left:0;bottom:0;z-index:1000;width:100%}#bottom-ui #combat-action-menu{margin-left:auto}#top-ui .textbox,#bottom-ui .textbox{color:#c8c8c8;background-color:rgba(40,55,82,.6);border:5px solid #325069;font-family:sans-serif;box-shadow:4px 4px 20px #000;padding:40px;margin:20px;font-size:28px;border-radius:10px;max-width:500px}",""]);const l=i},9808:(e,t,n)=>{"use strict";var r=n(5569),o=n.n(r),a=(n(2238),n(2596),n(8361),n(9940),n(1973),n(7294)),i=n(3935);function l(){return Math.random().toString(36).slice(5,10)}function c(e,t){return Math.random()*(t-e)+e}function u(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(e){return setTimeout(e,600)}))];case 1:return t.sent(),(e=c(1,100))<=60?[2,{species:"Uno",dexId:1,hp:100}]:e<=90?[2,{species:"Dos",dexId:2,hp:150}]:[2,{species:"Tres",dexId:3,hp:180}]}}))},new((n=void 0)||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}var s={maxSpawnable:3,spawned:[{id:l()},{id:l()},{id:l()}],inCombat:"",enemy:null,enemyImage:""};AFRAME.registerState({initialState:s,handlers:{despawn:function(e,t){console.log("state: despawn");var n=e.spawned.findIndex((function(e){return e.id===t.id}));n>-1&&(e.spawned.splice(n,1),e.spawned.__dirty=!0)},spawn:function(e){console.log("state: spawn"),e.spawned.length<e.maxSpawnable&&(e.spawned.push({id:l()}),e.spawned.__dirty=!0)},enterCombat:function(e,t){console.log("state: enterCombat",t),e.inCombat=t.id,function(){var e,t,n,r;e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(t){switch(t.label){case 0:return[4,u()];case 1:return e=t.sent(),o().scenes[0].emit("setEnemy",e),[2]}}))},new((n=void 0)||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))}()},exitCombat:function(e){console.log("state: exitCombat"),e.inCombat=""},setEnemy:function(e,t){console.log("state: setEnemy",t),e.enemy=t}},computeState:function(e,t){e.enemy&&void 0!==e.enemy.dexId&&(e.enemyImage="assets/".concat(e.enemy.dexId,".png"))}});var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)},d=(0,a.createContext)(s);function p(e){var t=e.children,n=(0,a.useState)(s),r=n[0],i=n[1],l=(0,a.useMemo)((function(){return o().scenes[0]}),[o()]);return(0,a.useEffect)((function(){var e=function(e){i(f({},e.detail.state))};return l.addEventListener("stateupdate",e),function(){return l.removeEventListener("stateupdate",e)}}),[l]),console.log("[StateContext]: currentState:",r),a.createElement(d.Provider,{value:r},t)}function h(){var e,t,n=(0,a.useContext)(d),r="";return n.inCombat?(null===(e=n.enemy)||void 0===e?void 0:e.species)&&(t=n.enemy.species,r="That's a ".concat(t,"! What to you want to do?")):r="There they are! Focus on one to fight it!",r?a.createElement("div",{className:"textbox"},r):null}var b=n(6310),m=n(2484),v=n.n(m),y={walletconnect:{package:n(2485).Z,options:{rpc:{4:"https://rinkeby-light.eth.linkpool.io/",31337:"http://localhost:8545",80001:"https://rpc-mumbai.matic.today"}}}};function w(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(t){switch(t.label){case 0:return[4,new(v())({providerOptions:y}).connect()];case 1:return e=t.sent(),[2,new b.Q(e)]}}))},new((n=void 0)||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}var x=(0,a.createContext)({wallet:{address:"",provider:null,network:null},connectWallet:function(){}});function g(e){var t=this,n=e.children,r=(0,a.useState)({address:"",provider:null,network:null}),o=r[0],i=r[1],l=(0,a.useCallback)((function(){return e=t,n=void 0,o=function(){var e,t,n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(r){switch(r.label){case 0:return[4,w()];case 1:return(e=r.sent())?[4,e.getSigner().getAddress()]:[3,4];case 2:return t=r.sent(),[4,e.getNetwork()];case 3:n=r.sent(),i({address:t,provider:e,network:n}),r.label=4;case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,l)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o}),[]);console.log("[WalletContextProvider]: walletContext:",o);var c=(0,a.useMemo)((function(){return{wallet:o,connectWallet:l}}),[o,l]);return a.createElement(x.Provider,{value:c},n)}function k(){var e=(0,a.useContext)(x),t=e.wallet,n=e.connectWallet,r=t||{},o=r.provider,i=r.network,l=r.address;return o?(console.log(o),a.createElement("div",null,"Connected to ",i.name," (",l,")")):a.createElement("button",{onClick:n},"Connect Wallet")}function E(){return a.createElement(g,null,a.createElement(p,null,a.createElement("div",{id:"top-ui"},a.createElement(k,null)),a.createElement("div",{id:"bottom-ui"},a.createElement(h,null))))}var C=n(3379),S=n.n(C),I=n(7795),P=n.n(I),T=n(569),z=n.n(T),_=n(3565),W=n.n(_),j=n(9216),A=n.n(j),O=n(4589),Z=n.n(O),L=n(8485),M={};function G(e,t,n,r){var o=e.object3D.position,a=function(e){var t=e.current,n=e.min,r=e.max,o=c(n.x,r.x),a=c(n.y,r.y),i=c(n.z,r.z);return{x:t.x+o,y:t.y+a,z:t.z+i}}({current:e.object3D.position,min:t,max:n}),i={property:"position",from:o,to:a,dur:1e3,enabled:r};e.setAttribute("animation",i)}M.styleTagTransform=Z(),M.setAttributes=W(),M.insert=z().bind(null,"head"),M.domAPI=P(),M.insertStyleElement=A(),S()(L.Z,M),L.Z&&L.Z.locals&&L.Z.locals,window.addEventListener("load",(function(){i.render(a.createElement(E,null),document.getElementById("ui-root"))})),o().registerComponent("combat-trigger",{schema:{},init:function(){var e=this;this.el.addEventListener("click",(function(t){e.el.sceneEl.emit("enterCombat",{id:t.target.id}),console.log(e.el.attributes.animation)}))}}),o().registerComponent("move-randomly",{schema:{min:{type:"vec3",default:{x:-1,y:-1,z:-1}},max:{type:"vec3",default:{x:1,y:1,z:1}},enabled:{type:"boolean",default:!0}},init:function(){var e=this;G(this.el,this.data.min,this.data.max,this.data.enabled),this.el.addEventListener("animationcomplete",(function(t){G(t.target,e.data.min,e.data.max,e.data.enabled)}))}}),console.log("Hello World!")},6563:()=>{},6601:()=>{},9214:()=>{},2361:()=>{},9630:()=>{},6567:()=>{}},e=>{e.O(0,[216],(()=>(9808,e(e.s=9808)))),e.O()}]);